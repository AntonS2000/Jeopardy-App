# Исправление проблемы с подключением нескольких игроков в разных вкладках

## Проблема
При подключении игроков с разных вкладок "Инкогнито" на одном устройстве происходило перезаписывание данных одного игрока другим, хотя они должны были находиться в изолированных слотах.

## Причина
Проблема заключалась в том, что при подключении игроков не учитывался уникальный токен, и при подключении разных вкладок к одному слоту (password) не проверялось, что это один и тот же игрок.

## Решение
1. В функцию `handle_join_player` добавлена проверка токена при подключении игрока к слоту
2. В функцию `login` добавлена проверка токена при входе игрока в систему
3. Улучшена логика обработки дисконнекта и логаута, чтобы избежать конфликтов при работе с несколькими вкладками одного игрока
4. Добавлена проверка, что обновления состояния применяются только к соответствующему соединению

## Основные изменения
- В `handle_join_player`: проверка токена при подключении к занятому слоту
- В `login`: проверка токена при входе игрока
- В `on_disconnect`: проверка соответствия SID при отключении
- В `logout_player`: изменена логика обновления game_state при выходе

Теперь каждый слот изолирован, и данные игроков не перезаписываются при использовании нескольких вкладок.